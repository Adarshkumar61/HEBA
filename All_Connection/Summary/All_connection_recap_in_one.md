FULL ROBOT CONNECTION – ONE-LINE FORMAT

(ESP32 + PCA9685 + 6 Servos + L298N + HC-SR04 + RTC + LCD + Buttons + LEDs + Buzzer)

🔋 POWER LINES

Battery + → Switch → Buck VIN+ → L298N +12V
Battery – → Buck VIN– → L298N GND → ESP32 GND → PCA9685 GND → Servo GND → LCD GND → RTC GND → HC-SR04 GND → Buzzer – → LED –
Buck 5V OUT+ → ESP32 5V → PCA9685 V+ → Servo VCC (all) → LCD VCC → RTC VCC → Buzzer + → LED +

🟦 I2C BUS (ALL ON SAME TWO WIRES)

ESP32 GPIO21 (SDA) → PCA9685 SDA + RTC SDA + LCD SDA
ESP32 GPIO22 (SCL) → PCA9685 SCL + RTC SCL + LCD SCL

🔧 SERVOS (ALL GO TO PCA9685 — NOT ESP32)

Base servo → PCA9685 Channel 0
Shoulder servo → PCA9685 Channel 1
Elbow servo → PCA9685 Channel 2
Wrist servo → PCA9685 Channel 3
Gripper servo → PCA9685 Channel 4
Wiper servo → PCA9685 Channel 5
(Each servo: Red → 5V, Brown → GND, Yellow → PCA channel pin)

🛞 L298N MOTOR DRIVER

ESP32 GPIO16 → L298N IN1
ESP32 GPIO17 → L298N IN2
ESP32 GPIO18 → L298N IN3
ESP32 GPIO19 → L298N IN4
L298N ENA → 5V (or GPIO23 if PWM)
L298N ENB → 5V (or GPIO5 if PWM)
L298N OUT1/OUT2 → Left BO Motor
L298N OUT3/OUT4 → Right BO Motor

📡 ULTRASONIC HC-SR04

HC-SR04 VCC → 5V
HC-SR04 GND → GND
HC-SR04 TRIG → ESP32 GPIO26
HC-SR04 ECHO → ESP32 GPIO25 (via 5V→3.3V divider)

⏱ RTC DS3231

RTC VCC → 5V
RTC GND → GND
RTC SDA → GPIO21
RTC SCL → GPIO22

📟 LCD 16×2 (I2C)

LCD VCC → 5V
LCD GND → GND
LCD SDA → GPIO21
LCD SCL → GPIO22

🎛 BUTTONS (INPUT_PULLUP)

Button Water → GPIO32 ↔ GND
Button Medicine → GPIO33 ↔ GND
Button Help → GPIO34 ↔ GND
Button Cancel → GPIO35 ↔ GND

🔊 BUZZER

Buzzer + → GPIO4
Buzzer – → GND

💡 LED Indicators

LED Idle (with 220Ω) → GPIO2 → GND
LED Cleaning (220Ω) → GPIO15 → GND
LED Alert (220Ω) → GPIO0 → GND